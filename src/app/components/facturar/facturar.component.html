<div class="w-full p-6 flex flex-wrap items-center justify-center">

    <h3 class="mb-5 text-lg font-medium text-gray-900 dark:text-white">Tipo de Cliente</h3>

    <ul class="grid w-full mx-20 gap-6 md:grid-cols-3 mb-10">
        <li>
            <input type="radio" id="anonimo" [(ngModel)]="tipocliente" name="tipocliente" value="anonimo"
                class="hidden peer" required>
            <label for="anonimo"
                class="inline-flex items-center justify-between w-full p-5 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
                <div class="block">
                    <div class="w-full text-lg font-semibold">Cliente Anonimo</div>
                </div>
                <svg class="w-5 h-5 ml-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 14 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M1 5h12m0 0L9 1m4 4L9 9" />
                </svg>
            </label>
        </li>
        <li>
            <input type="radio" id="nuevo" [(ngModel)]="tipocliente" name="tipocliente" value="nuevo"
                class="hidden peer">
            <label for="nuevo"
                class="inline-flex items-center justify-between w-full p-5 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
                <div class="block">
                    <div class="w-full text-lg font-semibold">Cliente Nuevo</div>
                </div>
                <svg class="w-5 h-5 ml-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 14 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M1 5h12m0 0L9 1m4 4L9 9" />
                </svg>
            </label>
        </li>
        <li>
            <input type="radio" id="cargar" [(ngModel)]="tipocliente" name="tipocliente" value="cargar"
                class="hidden peer">
            <label for="cargar"
                class="inline-flex items-center justify-between w-full p-5 text-gray-500 bg-white border border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
                <div class="block">
                    <div class="w-full text-lg font-semibold">Cargar Cliente</div>
                </div>
                <svg class="w-5 h-5 ml-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 14 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M1 5h12m0 0L9 1m4 4L9 9" />
                </svg>
            </label>
        </li>
    </ul>

    <div class="w-full flex flex-wrap justify-center" *ngIf="tipocliente == 'anonimo'">
        <div class="h-screen bg-gray-100 py-10 w-full mx-20">
            <div class="w-full text-center">
                <h2 class="text-4xl font-bold ">Cliente Anonimo</h2>
                <p class=" my-3 text-gray-900">!!! Muchas Gracias por su compra !!!</p>
            </div>
            <div class="mx-auto max-w-7xl justify-center px-6 md:flex md:space-x-6 xl:px-0">
                <div class="rounded-lg md:w-2/3">
                    <div *ngFor="let listacompra of listacompras"
                        class="justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start h-40 ">
                        <img [src]="listacompra.producto.img" alt=""
                            class="h-full w-40 flex-none rounded-lg  object-cover">
                        <div class="sm:ml-4 sm:flex sm:w-full sm:justify-between">
                            <div class="mt-5 sm:mt-0">
                                <h2 class="text-lg font-bold text-gray-900">{{listacompra.producto.nombre}}</h2>
                                <p class="mt-1 text-xs text-gray-700">{{listacompra.producto.precio |currency}}</p>
                            </div>
                            <div class="mt-4 flex justify-between sm:space-y-6 sm:mt-0 sm:block sm:space-x-6">
                                <div class="flex items-center border-gray-100">
                                    <span
                                        class="cursor-pointer rounded-l bg-gray-100 py-1 px-3.5 duration-100 hover:bg-blue-500 hover:text-blue-50">
                                        Cantidad:
                                        {{listacompra.cantidadCompra}}
                                    </span>

                                </div>
                                <div class="flex items-center space-x-4">
                                    <p class="text-sm">${{listacompra.cantidadCompra * listacompra.producto.precio}}</p>
                                    <svg (click)="eliminarCompra(listacompra)" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                        class="h-5 w-5 cursor-pointer duration-150 hover:text-red-500">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="mt-6 h-full rounded-lg border bg-white p-6 shadow-md md:mt-0 md:w-1/3">
                    <div class="mb-2 flex justify-between">
                        <p class="text-gray-700">Subtotal</p>
                        <p class="text-gray-700">{{calculartotalcompra()| currency}}</p>
                    </div>
                    <div class="flex justify-between">
                        <p class="text-gray-700">Descuento</p>
                        <p class="text-gray-700">{{descuento| currency}}</p>
                    </div>
                    <hr class="my-4" />
                    <div class="flex justify-between">
                        <p class="text-lg font-bold">Total</p>
                        <div class="">
                            <p class="mb-1 text-lg font-bold">{{(calculartotalcompra() - descuento) | currency}}</p>
                            <p class="text-sm text-gray-700">No cobramos IVA</p>
                        </div>
                    </div>
                    <div class="flex w-full">
                        <button (click)="enviaranonimo()"
                            class="mt-6 w-full rounded-md bg-blue-500 py-1.5 font-medium text-blue-50 hover:bg-blue-600 flex items-center justify-center focus:outline-none  text-sm sm:text-base transition duration-150 ease-in ">
                            <span class="mr-2 uppercase">Completar
                                Venta</span>
                            <span>
                                <svg class="h-6 w-6" fill="none" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                    <path d="M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="w-full flex flex-wrap justify-center" *ngIf="tipocliente == 'nuevo'">
        <div class="h-screen bg-gray-100 py-10 w-full mx-20">
            <div class="w-full text-center">
                <h2 class="text-4xl font-bold ">Cliente Anonimo</h2>
                <p class=" my-3 text-gray-900">!!! Muchas Gracias por su compra !!!</p>
            </div>
            <div class="mx-auto max-w-7xl justify-center px-6 md:flex md:space-x-6 xl:px-0">
                <div class="rounded-lg md:w-2/3">
                    <div *ngFor="let listacompra of listacompras"
                        class="justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start h-40 ">
                        <img [src]="listacompra.producto.img" alt=""
                            class="h-full w-40 flex-none rounded-lg  object-cover">
                        <div class="sm:ml-4 sm:flex sm:w-full sm:justify-between">
                            <div class="mt-5 sm:mt-0">
                                <h2 class="text-lg font-bold text-gray-900">{{listacompra.producto.nombre}}</h2>
                                <p class="mt-1 text-xs text-gray-700">{{listacompra.producto.precio |currency}}</p>
                            </div>
                            <div class="mt-4 flex justify-between sm:space-y-6 sm:mt-0 sm:block sm:space-x-6">
                                <div class="flex items-center border-gray-100">
                                    <span
                                        class="cursor-pointer rounded-l bg-gray-100 py-1 px-3.5 duration-100 hover:bg-blue-500 hover:text-blue-50">
                                        Cantidad:
                                        {{listacompra.cantidadCompra}}
                                    </span>

                                </div>
                                <div class="flex items-center space-x-4">
                                    <p class="text-sm">${{listacompra.cantidadCompra * listacompra.producto.precio}}</p>
                                    <svg (click)="eliminarCompra(listacompra)" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                        class="h-5 w-5 cursor-pointer duration-150 hover:text-red-500">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="mt-6 h-full rounded-lg border bg-white p-6 shadow-md md:mt-0 md:w-1/3">
                    <app-formulariocliente (clienteform)="onFormularioCliente($event)"></app-formulariocliente>

                    <div class="mb-2 flex justify-between">
                        <p class="text-gray-700">Subtotal</p>
                        <p class="text-gray-700">{{calculartotalcompra()| currency}}</p>
                    </div>
                    <div class="flex justify-between">
                        <p class="text-gray-700">Descuento</p>
                        <p class="text-gray-700">{{descuento| currency}}</p>
                    </div>
                    <hr class="my-4" />
                    <div class="flex justify-between">
                        <p class="text-lg font-bold">Total</p>
                        <div class="">
                            <p class="mb-1 text-lg font-bold">{{(calculartotalcompra() - descuento) | currency}}</p>
                            <p class="text-sm text-gray-700">No cobramos IVA</p>
                        </div>
                    </div>
                    <div class="flex w-full">
                        <button (click)="enviarNuevo()"
                            class="mt-6 w-full rounded-md bg-blue-500 py-1.5 font-medium text-blue-50 hover:bg-blue-600 flex items-center justify-center focus:outline-none  text-sm sm:text-base transition duration-150 ease-in ">
                            <span class="mr-2 uppercase">Completar
                                Venta</span>
                            <span>
                                <svg class="h-6 w-6" fill="none" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                    <path d="M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="w-full flex flex-wrap justify-center" *ngIf="tipocliente == 'cargar'">
        <div class="h-screen bg-gray-100 py-10 w-full mx-20">
            <div class="w-full text-center">
                <h2 class="text-4xl font-bold ">Cliente existente</h2>
                <p class=" my-3 text-gray-900">!!! Muchas Gracias por su compra !!!</p>
            </div>
            <div class="mx-auto max-w-7xl justify-center px-6 md:flex md:space-x-6 xl:px-0">
                <div class="rounded-lg md:w-2/3">
                    <div *ngFor="let listacompra of listacompras"
                        class="justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start h-40 ">
                        <img [src]="listacompra.producto.img" alt=""
                            class="h-full w-40 flex-none rounded-lg  object-cover">
                        <div class="sm:ml-4 sm:flex sm:w-full sm:justify-between">
                            <div class="mt-5 sm:mt-0">
                                <h2 class="text-lg font-bold text-gray-900">{{listacompra.producto.nombre}}</h2>
                                <p class="mt-1 text-xs text-gray-700">{{listacompra.producto.precio |currency}}</p>
                            </div>
                            <div class="mt-4 flex justify-between sm:space-y-6 sm:mt-0 sm:block sm:space-x-6">
                                <div class="flex items-center border-gray-100">
                                    <span
                                        class="cursor-pointer rounded-l bg-gray-100 py-1 px-3.5 duration-100 hover:bg-blue-500 hover:text-blue-50">
                                        Cantidad:
                                        {{listacompra.cantidadCompra}}
                                    </span>

                                </div>
                                <div class="flex items-center space-x-4">
                                    <p class="text-sm">${{listacompra.cantidadCompra * listacompra.producto.precio}}</p>
                                    <svg (click)="eliminarCompra(listacompra)" xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                        class="h-5 w-5 cursor-pointer duration-150 hover:text-red-500">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="mt-6 h-full rounded-lg border bg-white p-6 shadow-md md:mt-0 md:w-1/3">
                
    <app-listarclientes  (seleccionado)="onFormularioCliente($event)"></app-listarclientes>
                    



                    <div class="mb-2 flex justify-between">
                        <p class="text-gray-700">Subtotal</p>
                        <p class="text-gray-700">{{calculartotalcompra()| currency}}</p>
                    </div>
                    <div class="flex justify-between">
                        <p class="text-gray-700">Descuento</p>
                        <p class="text-gray-700">{{descuento| currency}}</p>
                    </div>
                    <hr class="my-4" />
                    <div class="flex justify-between">
                        <p class="text-lg font-bold">Total</p>
                        <div class="">
                            <p class="mb-1 text-lg font-bold">{{(calculartotalcompra() - descuento) | currency}}</p>
                            <p class="text-sm text-gray-700">No cobramos IVA</p>
                        </div>
                    </div>
                    <div class="flex w-full">
                        <button (click)="enviarCargado()"
                            class="mt-6 w-full rounded-md bg-blue-500 py-1.5 font-medium text-blue-50 hover:bg-blue-600 flex items-center justify-center focus:outline-none  text-sm sm:text-base transition duration-150 ease-in ">
                            <span class="mr-2 uppercase">Completar
                                Venta</span>
                            <span>
                                <svg class="h-6 w-6" fill="none" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                                    <path d="M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>


    <div *ngIf="envio" class="h-screen  w-screen fixed top-0 bg-white opacity-80">
        <div class="flex justify-center items-center h-full">
            <img class="h-16 w-16" src="https://icons8.com/preloaders/preloaders/1488/Iphone-spinner-2.gif" alt="">
        </div>
    </div>







    <div *ngIf="gracias"
        class="fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black bg-opacity-50 py-10 z-50"
        routerLink="home">




        <div id="popup-modal" tabindex="-1"
            class=" z-50  p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
            <div class="relative w-full max-w-md max-h-full">
                <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">

                    <div class="p-6 text-center">

                        <img class="mx-auto mb-4 text-gray-400 w-40 h-40 dark:text-gray-200"
                            src="../../assets/imagen/mil-gracias.png" alt="">

                        <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">
                            !!!! Gracias por su compra !!!!!</h3>

                    </div>
                </div>
            </div>
        </div>






    </div>
</div>